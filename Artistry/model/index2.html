<!doctype html>
<html lang="en">
  <head>
    <title>&lt;model-viewer&gt; template</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="styles.css" rel="stylesheet"/>
  </head>
  <body>
    <!-- <model-viewer> HTML element -->
        <model-viewer src="Assets/birds.glb" poster="webp_assets/bird.webp" tone-mapping="neutral" shadow-intensity="1" ar camera-controls touch-action="pan-y" alt="A 3D model carousel">
  
            <button slot="ar-button" id="ar-button">
              View in your space
            </button>
          
            <div id="ar-prompt">
              <img src="hand.png">
            </div>
          
            <button id="ar-failure">
              AR is not tracking!
            </button>
          
            <div class="slider">
              <div class="slides">
                <button class="slide selected" onclick="switchSrc(this, 'birds')" style="background-image: url('webp_assets/bird.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'dragon')" style="background-image: url('webp_assets/dragon.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'flower')" style="background-image: url('webp_assets/flower.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'peach')" style="background-image: url('webp_assets/peach.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'six')" style="background-image: url('webp_assets/six.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'SmallFlower')" style="background-image: url('webp_assets/smallflower.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'tower2')" style="background-image: url('webp_assets/tower.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'turtle')" style="background-image: url('webp_assets/turtle.webp');">
                </button><button class="slide" onclick="switchSrc(this, 'turtlepeach')" style="background-image: url('webp_assets/turtlepeach.webp');">

            </div>
          </model-viewer>
          
          <script type="module">
            const modelViewer = document.querySelector("model-viewer");
          
            window.switchSrc = (element, name) => {
              const base = 'Assets/'+ name;
              modelViewer.src = base + '.glb';
              modelViewer.poster = base + '.webp';
              const slides = document.querySelectorAll(".slide");
              slides.forEach((element) => {element.classList.remove("selected");});
              element.classList.add("selected");
            };
          
            document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
              // Keep slider interactions from affecting the XR scene.
              ev.preventDefault();
            });
          </script>
          
    <script src="script.js"></script>
    <!-- Loads <model-viewer> for browsers: -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
  </body>
</html>

